---
jobs:
- name: docker-build
  public: true
  serial: true
  plan:
  - aggregate:
    - { get: docker-build-repo, resource: resource-docker-build-repo }
  - task: curl
    config:
      platform: linux
      image_resource:
        type: docker-image
        source: {repository: byrnedo/alpine-curl}
      inputs:
      - name: docker-build-repo
      run:
        path: ci/tasks/build.sh
        args: [
        "((REPO))",
        "((TOKEN))"
        ]

resources:
- name: resource-docker-build-repo
  type: git
  source:
    uri: https://www.github.com/rjain15/docker-builds.git
